Tensorflow retrained model compression fails with error: terminate called after throwing an instance of 'std::bad_alloc'   what():  std::bad_alloc Aborted (core dumped)

I am doing a college project on tensorflow. I have successfully retrained using rerain.py file, to use that model in android program. I was trying to compress the model using commands in the following
link: https://github.com/tensorflow/tensorflow/blob/master/tensorflow/tools/graph_transforms/README.md#shrinking-file-size
But it is getting terminated throwing the below error:
ERROR:   terminate called after throwing an instance of 'std::bad_alloc'   what():  std::bad_alloc Aborted (core dumped)
I am working on  an Ubuntu 14.04 machine with 4GB RAM.
Please help.
Thanks,
Bruczzz