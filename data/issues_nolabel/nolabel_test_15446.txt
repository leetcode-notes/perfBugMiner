call within the loop

optimize call within the loop