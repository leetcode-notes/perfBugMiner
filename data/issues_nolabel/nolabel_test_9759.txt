[XLA] Add ability to run the XLA unit tests against a different device

This is a squashed version of #9409