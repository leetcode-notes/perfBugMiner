Eigen errors.

/apps/.GCC/6.2.0/bin/gcc -U_FORTIFY_SOURCE '-D_FORTIFY_SOURCE=0' -Wall -Wunused-but-set-parameter -Wno-free-nonheap-object -g0 -DNDEBUG -pipe -DMKL_LP64 -I/usr/include/ncurses -I/apps/INTEL/2017.0-035/mkl/include -I/apps/PYTHON/3.5.2_ML/include/python3.5m -m64 '-march=native' '-mtune=native' -Ofast -s -fmath-errno -fno-unsafe-math-optimizations -fno-finite-math-only -fno-cx-limited-range -freciprocal-math -ftree-vectorize -fomit-frame-pointer -fno-stack-protector -ffunction-sections -fdata-sections -flto -fuse-linker-plugin -Wl,--as-needed -L/apps/.GLIBC/2.24/lib -L/apps/INTEL/2017.0-035/mkl/lib/intel64 -lmkl_rt -lpthread -lm -ldl -Wl,--gc-sections -Wl,-rpath,/apps/.GLIBC/2.24/lib -Wl,-rpath,/apps/.GCC/6.2.0/lib64 -Wl,-rpath,/apps/.GCC/6.2.0/lib -Wl,-rpath,/apps/INTEL/2017.0-035/mkl/lib/intel64 -Wl,--dynamic-linker,/apps/.GLIBC/2.24/lib/ld-linux-x86-64.so.2 '-std=c++11' -MD -MF bazel-out/local_mn-py3-opt/bin/tensorflow/core/kernels/objs/batch_matmul_op/tensorflow/core/kernels/batch_matmul_op_real.pic.d '-frandom-seed=bazel-out/local_mn-py3-opt/bin/tensorflow/core/kernels/objs/batch_matmul_op/tensorflow/core/kernels/batch_matmul_op_real.pic.o' -fPIC -DEIGEN_MPL2_ONLY -iquote . -iquote bazel-out/local_mn-py3-opt/genfiles -iquote external/bazel_tools -iquote bazel-out/local_mn-py3-opt/genfiles/external/bazel_tools -iquote external/eigen_archive -iquote bazel-out/local_mn-py3-opt/genfiles/external/eigen_archive -iquote external/protobuf -iquote bazel-out/local_mn-py3-opt/genfiles/external/protobuf -iquote external/com_googlesource_code_re2 -iquote bazel-out/local_mn-py3-opt/genfiles/external/com_googlesource_code_re2 -iquote external/farmhash_archive -iquote bazel-out/local_mn-py3-opt/genfiles/external/farmhash_archive -iquote external/gif_archive -iquote bazel-out/local_mn-py3-opt/genfiles/external/gif_archive -iquote external/highwayhash -iquote bazel-out/local_mn-py3-opt/genfiles/external/highwayhash -iquote external/jpeg_archive -iquote bazel-out/local_mn-py3-opt/genfiles/external/jpeg_archive -iquote external/png_archive -iquote bazel-out/local_mn-py3-opt/genfiles/external/png_archive -iquote external/zlib_archive -iquote bazel-out/local_mn-py3-opt/genfiles/external/zlib_archive -isystem external/bazel_tools/tools/cpp/gcc3 -isystem external/eigen_archive -isystem bazel-out/local_mn-py3-opt/genfiles/external/eigen_archive -isystem external/protobuf/src -isystem bazel-out/local_mn-py3-opt/genfiles/external/protobuf/src -isystem external/farmhash_archive -isystem bazel-out/local_mn-py3-opt/genfiles/external/farmhash_archive -isystem external/gif_archive -isystem bazel-out/local_mn-py3-opt/genfiles/external/gif_archive -isystem external/highwayhash -isystem bazel-out/local_mn-py3-opt/genfiles/external/highwayhash -isystem external/jpeg_archive -isystem bazel-out/local_mn-py3-opt/genfiles/external/jpeg_archive -isystem external/png_archive -isystem bazel-out/local_mn-py3-opt/genfiles/external/png_archive -isystem external/zlib_archive -isystem bazel-out/local_mn-py3-opt/genfiles/external/zlib_archive -fno-exceptions -DEIGEN_AVOID_STL_ARRAY -pthread '--sysroot=/apps/.GLIBC/2.24' -c tensorflow/core/kernels/batch_matmul_op_real.cc -o bazel-out/local_mn-py3-opt/bin/tensorflow/core/kernels/objs/batch_matmul_op/tensorflow/core/kernels/batch_matmul_op_real.pic.o
In file included from external/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/Core:331:0,
from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14,
from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1,
from ./tensorflow/core/kernels/batch_matmul_op_impl.h:21,
from tensorflow/core/kernels/batch_matmul_op_real.cc:16:
external/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/GenericPacketMath.h: In instantiation of ‘typename Eigen::internal::unpacket_traits::type Eigen::internal::predux(const Packet&) [with Packet = Eigen::internal::Packet8h; typename Eigen::internal::unpacket_traits::type = Eigen::half]’:
external/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/products/GeneralMatrixVector.h:548:23:   required from ‘static void Eigen::internal::general_matrix_vector_product<Index, LhsScalar, LhsMapper, 1, ConjugateLhs, RhsScalar, RhsMapper, ConjugateRhs, Version>::run(Index, Index, const LhsMapper&, const RhsMapper&, Eigen::internal::general_matrix_vector_product<Index, LhsScalar, LhsMapper, 1, ConjugateLhs, RhsScalar, RhsMapper, ConjugateRhs, Version>::ResScalar, Index, Eigen::internal::general_matrix_vector_product<Index, LhsScalar, LhsMapper, 1, ConjugateLhs, RhsScalar, RhsMapper, ConjugateRhs, Version>::ResScalar) [with Index = long int; LhsScalar = Eigen::half; LhsMapper = Eigen::internal::const_blas_data_mapper<Eigen::half, long int, 1>; bool ConjugateLhs = false; RhsScalar = Eigen::half; RhsMapper = Eigen::internal::const_blas_data_mapper<Eigen::half, long int, 0>; bool ConjugateRhs = false; int Version = 0; Eigen::internal::general_matrix_vector_product<Index, LhsScalar, LhsMapper, 1, ConjugateLhs, RhsScalar, RhsMapper, ConjugateRhs, Version>::ResScalar = Eigen::half]’
external/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/GeneralProduct.h:318:132:   required from ‘static void Eigen::internal::gemv_dense_selector<2, 1, true>::run(const Lhs&, const Rhs&, Dest&, const typename Dest::Scalar&) [with Lhs = Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >; Rhs = Eigen::Block<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, -1, 1, false>; Dest = Eigen::Map<Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >; typename Dest::Scalar = Eigen::half]’
external/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/ProductEvaluators.h:367:34:   required from ‘static void Eigen::internal::generic_product_impl<Lhs, Rhs, Eigen::DenseShape, Eigen::DenseShape, 7>::scaleAndAddTo(Dest&, const Lhs&, const Rhs&, const Scalar&) [with Dest = Eigen::Map<Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >; Lhs = Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >; Rhs = Eigen::Block<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, -1, 1, false>; Eigen::internal::generic_product_impl<Lhs, Rhs, Eigen::DenseShape, Eigen::DenseShape, 7>::Scalar = Eigen::half]’
external/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/ProductEvaluators.h:349:27:   required from ‘static void Eigen::internal::generic_product_impl_base<Lhs, Rhs, Derived>::scaleAndAddTo(Dst&, const Lhs&, const Rhs&, const Scalar&) [with Dst = Eigen::Map<Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >; Lhs = Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >; Rhs = Eigen::Block<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, -1, 1, false>; Derived = Eigen::internal::generic_product_impl<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, Eigen::Block<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, -1, 1, false>, Eigen::DenseShape, Eigen::DenseShape, 7>; Eigen::internal::generic_product_impl_base<Lhs, Rhs, Derived>::Scalar = Eigen::half]’
external/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/ProductEvaluators.h:337:33:   required from ‘static void Eigen::internal::generic_product_impl_base<Lhs, Rhs, Derived>::evalTo(Dst&, const Lhs&, const Rhs&) [with Dst = Eigen::Map<Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >; Lhs = Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >; Rhs = Eigen::Block<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, -1, 1, false>; Derived = Eigen::internal::generic_product_impl<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, Eigen::Block<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, -1, 1, false>, Eigen::DenseShape, Eigen::DenseShape, 7>]’
external/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/ProductEvaluators.h:144:43:   [ skipping 4 instantiation contexts, use -ftemplate-backtrace-limit=0 to disable ]
./tensorflow/core/kernels/batch_matmul_op_impl.h:181:17:   required from ‘static void tensorflow::{anonymous}::SequentialMatMulKernel::Run(const tensorflow::Tensor&, const tensorflow::Tensor&, bool, bool, tensorflow::Tensor, int, int) [with Scalar = Eigen::half]’
./tensorflow/core/kernels/batch_matmul_op_impl.h:238:50:   required from ‘tensorflow::LaunchBatchMatMul<Eigen::ThreadPoolDevice, Scalar>::Launch(tensorflow::OpKernelContext, const tensorflow::Tensor&, const tensorflow::Tensor&, bool, bool, tensorflow::Tensor_)::<lambda(int, int)> [with Scalar = Eigen::half]’
./tensorflow/core/kernels/batch_matmul_op_impl.h:237:42:   required from ‘struct tensorflow::LaunchBatchMatMul<Eigen::ThreadPoolDevice, Scalar>::Launch(tensorflow::OpKernelContext_, const tensorflow::Tensor&, const tensorflow::Tensor&, bool, bool, tensorflow::Tensor_) [with Scalar = Eigen::half]::<lambda(int, int)>’
./tensorflow/core/kernels/batch_matmul_op_impl.h:235:12:   required from ‘static void tensorflow::LaunchBatchMatMul<Eigen::ThreadPoolDevice, Scalar>::Launch(tensorflow::OpKernelContext_, const tensorflow::Tensor&, const tensorflow::Tensor&, bool, bool, tensorflow::Tensor_) [with Scalar = Eigen::half]’
./tensorflow/core/kernels/batch_matmul_op_impl.h:427:46:   required from ‘void tensorflow::BatchMatMul<Device, Scalar>::Compute(tensorflow::OpKernelContext_) [with Device = Eigen::ThreadPoolDevice; Scalar = Eigen::half]’
tensorflow/core/kernels/batch_matmul_op_real.cc:33:1:   required from here
external/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/GenericPacketMath.h:324:10: error: could not convert ‘a’ from ‘const Eigen::internal::Packet8h’ to ‘Eigen::internal::unpacket_traitsEigen::internal::Packet8h::type {aka Eigen::half}’
{ return a; }
^
In file included from external/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/Core:442:0,
from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14,
from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1,
from ./tensorflow/core/kernels/batch_matmul_op_impl.h:21,
from tensorflow/core/kernels/batch_matmul_op_real.cc:16:
external/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/ProductEvaluators.h: In instantiation of ‘static void Eigen::internal::etor_product_packet_impl<1, -1, Lhs, Rhs, Packet, LoadMode>::run(Eigen::Index, Eigen::Index, const Lhs&, const Rhs&, Eigen::Index, Packet&) [with Lhs = Eigen::internal::evaluator<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> > >; Rhs = Eigen::internal::evaluator<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> > >; Packet = Eigen::internal::Packet8h; int LoadMode = 0; Eigen::Index = long int]’:
external/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/ProductEvaluators.h:545:20:   required from ‘const PacketType Eigen::internal::product_evaluator<Eigen::Product<Lhs, Rhs, 1>, ProductTag, Eigen::DenseShape, Eigen::DenseShape>::packet(Eigen::Index, Eigen::Index) const [with int LoadMode = 0; PacketType = Eigen::internal::Packet8h; Lhs = Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >; Rhs = Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >; int ProductTag = 8; typename Eigen::internal::traits<typename Eigen::Product<Lhs, Rhs, 1>::Rhs>::Scalar = Eigen::half; typename Eigen::internal::traits<typename Eigen::Product<Lhs, Rhs, 1>::Lhs>::Scalar = Eigen::half; Eigen::Index = long int]’
external/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/AssignEvaluator.h:652:5:   required from ‘void Eigen::internal::generic_dense_assignment_kernel<DstEvaluatorTypeT, SrcEvaluatorTypeT, Functor, Version>::assignPacket(Eigen::Index, Eigen::Index) [with int StoreMode = 16; int LoadMode = 0; PacketType = Eigen::internal::Packet8h; DstEvaluatorTypeT = Eigen::internal::evaluator<Eigen::Map<Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> > >; SrcEvaluatorTypeT = Eigen::internal::evaluator<Eigen::Product<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, 1> >; Functor = Eigen::internal::assign_op<Eigen::half, Eigen::half>; int Version = 0; Eigen::Index = long int]’
external/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/AssignEvaluator.h:666:48:   required from ‘void Eigen::internal::generic_dense_assignment_kernel<DstEvaluatorTypeT, SrcEvaluatorTypeT, Functor, Version>::assignPacketByOuterInner(Eigen::Index, Eigen::Index) [with int StoreMode = 16; int LoadMode = 0; PacketType = Eigen::internal::Packet8h; DstEvaluatorTypeT = Eigen::internal::evaluator<Eigen::Map<Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> > >; SrcEvaluatorTypeT = Eigen::internal::evaluator<Eigen::Product<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, 1> >; Functor = Eigen::internal::assign_op<Eigen::half, Eigen::half>; int Version = 0; Eigen::Index = long int]’
external/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/AssignEvaluator.h:551:9:   required from ‘static void Eigen::internal::dense_assignment_loop<Kernel, 4, 0>::run(Kernel&) [with Kernel = Eigen::internal::generic_dense_assignment_kernel<Eigen::internal::evaluator<Eigen::Map<Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> > >, Eigen::internal::evaluator<Eigen::Product<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, 1> >, Eigen::internal::assign_op<Eigen::half, Eigen::half>, 0>]’
external/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/AssignEvaluator.h:713:37:   required from ‘void Eigen::internal::call_dense_assignment_loop(const DstXprType&, const SrcXprType&, const Functor&) [with DstXprType = Eigen::Map<Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >; SrcXprType = Eigen::Product<Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, Eigen::Map<const Eigen::Matrix<Eigen::half, -1, -1, 1, -1, -1>, 0, Eigen::Stride<0, 0> >, 1>; Functor = Eigen::internal::assign_op<Eigen::half, Eigen::half>]’
external/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/AssignEvaluator.h:862:31:   [ skipping 8 instantiation contexts, use -ftemplate-backtrace-limit=0 to disable ]
./tensorflow/core/kernels/batch_matmul_op_impl.h:185:17:   required from ‘static void tensorflow::{anonymous}::SequentialMatMulKernel::Run(const tensorflow::Tensor&, const tensorflow::Tensor&, bool, bool, tensorflow::Tensor_, int, int) [with Scalar = Eigen::half]’
./tensorflow/core/kernels/batch_matmul_op_impl.h:238:50:   required from ‘tensorflow::LaunchBatchMatMul<Eigen::ThreadPoolDevice, Scalar>::Launch(tensorflow::OpKernelContext_, const tensorflow::Tensor&, const tensorflow::Tensor&, bool, bool, tensorflow::Tensor_)::<lambda(int, int)> [with Scalar = Eigen::half]’
./tensorflow/core/kernels/batch_matmul_op_impl.h:237:42:   required from ‘struct tensorflow::LaunchBatchMatMul<Eigen::ThreadPoolDevice, Scalar>::Launch(tensorflow::OpKernelContext_, const tensorflow::Tensor&, const tensorflow::Tensor&, bool, bool, tensorflow::Tensor_) [with Scalar = Eigen::half]::<lambda(int, int)>’
./tensorflow/core/kernels/batch_matmul_op_impl.h:235:12:   required from ‘static void tensorflow::LaunchBatchMatMul<Eigen::ThreadPoolDevice, Scalar>::Launch(tensorflow::OpKernelContext_, const tensorflow::Tensor&, const tensorflow::Tensor&, bool, bool, tensorflow::Tensor_) [with Scalar = Eigen::half]’
./tensorflow/core/kernels/batch_matmul_op_impl.h:427:46:   required from ‘void tensorflow::BatchMatMul<Device, Scalar>::Compute(tensorflow::OpKernelContext*) [with Device = Eigen::ThreadPoolDevice; Scalar = Eigen::half]’
tensorflow/core/kernels/batch_matmul_op_real.cc:33:1:   required from here
external/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/ProductEvaluators.h:648:24: error: no matching function for call to ‘pset1(int)’
res = pset1(0);
^
In file included from external/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/Core:331:0,
from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14,
from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1,
from ./tensorflow/core/kernels/batch_matmul_op_impl.h:21,
from tensorflow/core/kernels/batch_matmul_op_real.cc:16:
external/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/GenericPacketMath.h:222:1: note: candidate: template Packet Eigen::internal::pset1(const typename Eigen::internal::unpacket_traits::type&)
pset1(const typename unpacket_traits::type& a) { return a; }
^~~~~
external/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/GenericPacketMath.h:222:1: note:   template argument deduction/substitution failed:
In file included from external/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/Core:442:0,
from external/eigen_archive/unsupported/Eigen/CXX11/Tensor:14,
from ./third_party/eigen3/unsupported/Eigen/CXX11/Tensor:1,
from ./tensorflow/core/kernels/batch_matmul_op_impl.h:21,
from tensorflow/core/kernels/batch_matmul_op_real.cc:16:
external/eigen_archive/unsupported/Eigen/CXX11/../../../Eigen/src/Core/ProductEvaluators.h:648:24: note:   cannot convert ‘0’ (type ‘int’) to type ‘const type& {aka const Eigen::half&}’
res = pset1(0);