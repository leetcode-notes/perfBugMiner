Fixes 'batch_size' may be used uninitialized

clang++-3.6: warning: 'batch_size' may be used uninitialized in this function