Cannot build TensorFLow with GPU support when using TensorFlow as an external dependency

Currently my project uses TensorFlow as an external dependency (local repository). When I build my project with CPU only, the build is successful. However if I add --config=-cuda the build will succeed but without the GPU part (yes, I have run ./configure). The warning I get is: WARNING: Config values are not defined in any .rc file: cuda. This does not happen if I build my project inside TensorFlow's source tree.