Merge changes from r1.5 into master

This change picks up the commits exclusive to the r1.5 branch and puts them back into master.
There were a bunch of merge conflicts here. I favored master in most cases except those to do with obvious versioning differences.
I'm not sure if I did the merge correctly, considering there are a great many CLs presented here.