Bazel build fails /usr/lib/tensorflow/tensorflow/cc/BUILD:28:1

Ubuntu 15.10
cuda v 7.5
python v 2.7
jdk8
gcc 4.9
980Ti
Installing from source:
b0774e1
ERROR: /usr/lib/tensorflow/tensorflow/cc/BUILD:28:1: Linking of rule '//tensorflow/cc:ops/state_ops_gen_cc' failed: crosstool_wrapper_driver_is_not_gcc failed: error executing command
(cd /root/.cache/bazel/_bazel_root/e14db5a97cb9042cd7bbcf71326995ef/tensorflow && 
exec env - 
third_party/gpus/crosstool/clang/bin/crosstool_wrapper_driver_is_not_gcc -o bazel-out/host/bin/tensorflow/cc/ops/state_ops_gen_cc '-Wl,-rpath,$ORIGIN/../../../_solib_local/_U_S_Sthird_Uparty_Sgpus_Scuda_Ccudart___Uthird_Uparty_Sgpus_Scuda_Slib64' -Lbazel-out/host/bin/solib_local/U_S_Sthird_Uparty_Sgpus_Scuda_Ccudart___Uthird_Uparty_Sgpus_Scuda_Slib64 bazel-out/host/bin/tensorflow/cc/libcc_op_gen_main.a -Wl,-whole-archive bazel-out/host/bin/tensorflow/core/libstate_ops_op_lib.lo -Wl,-no-whole-archive -Wl,-whole-archive bazel-out/host/bin/tensorflow/core/libframework_internal.lo -Wl,-no-whole-archive bazel-out/host/bin/tensorflow/core/liblib_internal.a bazel-out/host/bin/external/jpeg_archive/libjpeg.a bazel-out/host/bin/external/png_archive/libpng.a bazel-out/host/bin/external/re2/libre2.a bazel-out/host/bin/tensorflow/core/libprotos_all_cc.a bazel-out/host/bin/google/protobuf/libprotobuf.a bazel-out/host/bin/google/protobuf/libprotobuf_lite.a -lcudart -lm -ldl -lm -ldl -lz -pthread -lpthread -Wl,-rpath,third_party/gpus/cuda/lib64 -lstdc++ -B/usr/bin/ -pie -Wl,-z,relro,-z,now -no-canonical-prefixes -pass-exit-codes '-Wl,--build-id=md5' '-Wl,--hash-style=gnu' -Wl,-S -Wl,--gc-sections): com.google.devtools.build.lib.shell.BadExitStatusException: Process exited with status 1.
bazel-out/host/bin/tensorflow/cc/libcc_op_gen_main.a(cc_op_gen.o): In function std::string* tensorflow::internal::Check_EQImpl<tensorflow::Status, tensorflow::Status>(tensorflow::Status const&, tensorflow::Status const&, char const*)': cc_op_gen.cc:(.text._ZN10tensorflow8internal12Check_EQImplINS_6StatusES2_EEPSsRKT_RKT0_PKc[_ZN10tensorflow8internal12Check_EQImplINS_6StatusES2_EEPSsRKT_RKT0_PKc]+0x2d): undefined reference totensorflow::Status::ToString() const'
cc_op_gen.cc:(.text.ZN10tensorflow8internal12Check_EQImplINS_6StatusES2_EEPSsRKT_RKT0_PKc[ZN10tensorflow8internal12Check_EQImplINS_6StatusES2_EEPSsRKT_RKT0_PKc]+0x38): undefined reference to tensorflow::Status::ToString() const' bazel-out/host/bin/tensorflow/cc/libcc_op_gen_main.a(cc_op_gen.o): In functiontensorflow::(anonymous namespace)::WriteCCOp(tensorflow::OpDef const&, tensorflow::WritableFile, tensorflow::WritableFile)':
cc_op_gen.cc:(.text.ZN10tensorflow12_GLOBAL__N_19WriteCCOpERKNS_5OpDefEPNS_12WritableFileES5+0x8b9): undefined reference to tensorflow::Status::ToString() const' cc_op_gen.cc:(.text._ZN10tensorflow12_GLOBAL__N_19WriteCCOpERKNS_5OpDefEPNS_12WritableFileES5_+0x8d2): undefined reference totensorflow::Status::ToString() const'
cc_op_gen.cc:(.text.ZN10tensorflow12_GLOBAL__N_19WriteCCOpERKNS_5OpDefEPNS_12WritableFileES5+0xc15): undefined reference to tensorflow::Status::ToString() const' bazel-out/host/bin/tensorflow/cc/libcc_op_gen_main.a(cc_op_gen.o):cc_op_gen.cc:(.text._ZN10tensorflow12_GLOBAL__N_19WriteCCOpERKNS_5OpDefEPNS_12WritableFileES5_+0xc2e): more undefined references totensorflow::Status::ToString() const' follow
bazel-out/host/bin/tensorflow/core/libframework_internal.lo(attr_value_util.o): In function tensorflow::(anonymous namespace)::SummarizeTensor(tensorflow::TensorProto const&)': attr_value_util.cc:(.text._ZN10tensorflow12_GLOBAL__N_115SummarizeTensorERKNS_11TensorProtoE+0x65): undefined reference togoogle::protobuf::Message::ShortDebugString() const'
bazel-out/host/bin/tensorflow/core/libframework_internal.lo(attr_value_util.o): In function tensorflow::ParseAttrValue(tensorflow::StringPiece, tensorflow::StringPiece, tensorflow::AttrValue*)': attr_value_util.cc:(.text._ZN10tensorflow14ParseAttrValueENS_11StringPieceES0_PNS_9AttrValueE+0x207): undefined reference togoogle::protobuf::TextFormat::ParseFromString(std::string const&, google::protobuf::Message)'
bazel-out/host/bin/tensorflow/core/libframework_internal.lo(attr_value_util.o): In function tensorflow::SummarizeAttrValue(tensorflow::AttrValue const&)': attr_value_util.cc:(.text._ZN10tensorflow18SummarizeAttrValueERKNS_9AttrValueE+0x3f4): undefined reference togoogle::protobuf::internal::empty_string'
attr_value_util.cc:(.text.ZN10tensorflow18SummarizeAttrValueERKNS_9AttrValueE+0x4d8): undefined reference to google::protobuf::internal::NameOfEnum(google::protobuf::EnumDescriptor const_, int)' attr_value_util.cc:(.text._ZN10tensorflow18SummarizeAttrValueERKNS_9AttrValueE+0x54c): undefined reference togoogle::protobuf::internal::empty_string'
attr_value_util.cc:(.text._ZN10tensorflow18SummarizeAttrValueERKNS_9AttrValueE+0xda9): undefined reference to google::protobuf::internal::NameOfEnum(google::protobuf::EnumDescriptor const*, int)' bazel-out/host/bin/tensorflow/core/libframework_internal.lo(op.o): In functiontensorflow::OpRegistry::Register(tensorflow::OpDef const&)':
op.cc:(.text.ZN10tensorflow10OpRegistry8RegisterERKNS_5OpDefE+0x91): undefined reference to tensorflow::Status::ToString() const' op.cc:(.text._ZN10tensorflow10OpRegistry8RegisterERKNS_5OpDefE+0xaa): undefined reference totensorflow::Status::ToString() const'
bazel-out/host/bin/tensorflow/core/libframework_internal.lo(op.o): In function tensorflow::OpRegistry::CallDeferred() const [clone .part.129]': op.cc:(.text._ZNK10tensorflow10OpRegistry12CallDeferredEv.part.129+0x159): undefined reference totensorflow::Status::ToString() const'
op.cc:(.text.ZNK10tensorflow10OpRegistry12CallDeferredEv.part.129+0x168): undefined reference to tensorflow::Status::ToString() const' bazel-out/host/bin/tensorflow/core/libframework_internal.lo(op.o): In functiontensorflow::OpRegistry::LookUp(std::string const&, tensorflow::Status*) const':
op.cc:(.text.ZNK10tensorflow10OpRegistry6LookUpERKSsPNS_6StatusE+0x110): undefined reference to tensorflow::Status::ToString() const' bazel-out/host/bin/tensorflow/core/libframework_internal.lo(op.o):op.cc:(.text._ZNK10tensorflow10OpRegistry6LookUpERKSsPNS_6StatusE+0x129): more undefined references totensorflow::Status::ToString() const' follow
bazel-out/host/bin/tensorflow/core/libframework_internal.lo(op_def_builder.o): In function tensorflow::OpDefBuilder::OpDefBuilder(tensorflow::StringPiece)': op_def_builder.cc:(.text._ZN10tensorflow12OpDefBuilderC2ENS_11StringPieceE+0xd4): undefined reference togoogle::protobuf::internal::empty_string'
bazel-out/host/bin/tensorflow/core/libframework_internal.lo(op_def_builder.o): In function tensorflow::(anonymous namespace)::FinalizeAttr(tensorflow::StringPiece, tensorflow::OpDef*, std::vector<std::string, std::allocator<std::string> >*)': op_def_builder.cc:(.text._ZN10tensorflow12_GLOBAL__N_112FinalizeAttrENS_11StringPieceEPNS_5OpDefEPSt6vectorISsSaISsEE+0x32d): undefined reference togoogle::protobuf::internal::empty_string'
op_def_builder.cc:(.text.ZN10tensorflow12_GLOBAL__N_112FinalizeAttrENS_11StringPieceEPNS_5OpDefEPSt6vectorISsSaISsEE+0x5ff): undefined reference to google::protobuf::internal::empty_string_' op_def_builder.cc:(.text._ZN10tensorflow12_GLOBAL__N_112FinalizeAttrENS_11StringPieceEPNS_5OpDefEPSt6vectorISsSaISsEE+0xc06): undefined reference togoogle::protobuf::internal::empty_string'
bazel-out/host/bin/tensorflow/core/libframework_internal.lo(op_def_builder.o): In function tensorflow::(anonymous namespace)::FinalizeInputOrOutput(tensorflow::StringPiece, bool, tensorflow::OpDef*, std::vector<std::string, std::allocator<std::string> >*)': op_def_builder.cc:(.text._ZN10tensorflow12_GLOBAL__N_121FinalizeInputOrOutputENS_11StringPieceEbPNS_5OpDefEPSt6vectorISsSaISsEE+0x36a): undefined reference togoogle::protobuf::internal::empty_string'
bazel-out/host/bin/tensorflow/core/libframework_internal.lo(op_def_builder.o):op_def_builder.cc:(.text.ZN10tensorflow12_GLOBAL__N_121FinalizeInputOrOutputENS_11StringPieceEbPNS_5OpDefEPSt6vectorISsSaISsEE+0xaee): more undefined references to google::protobuf::internal::empty_string_' follow bazel-out/host/bin/tensorflow/core/libframework_internal.lo(op_def_util.o): In functionvoid tensorflow::errors::AppendToMessage<char const*, std::string, char const*, std::string, char const*>(tensorflow::Status*, char const*, std::string, char const*, std::string, char const*)':
op_def_util.cc:(.text.ZN10tensorflow6errors15AppendToMessageIIPKcSsS3_SsS3_EEEvPNS_6StatusEDpT[ZN10tensorflow6errors15AppendToMessageIIPKcSsS3_SsS3_EEEvPNS_6StatusEDpT]+0x208): undefined reference totensorflow::Status::empty_string()' bazel-out/host/bin/tensorflow/core/libframework_internal.lo(op_def_util.o): In functionvoid tensorflow::errors::AppendToMessage<char const*, std::string, char const*>(tensorflow::Status*, char const*, std::string, char const*)':
op_def_util.cc:(.text.ZN10tensorflow6errors15AppendToMessageIIPKcSsS3_EEEvPNS_6StatusEDpT[ZN10tensorflow6errors15AppendToMessageIIPKcSsS3_EEEvPNS_6StatusEDpT]+0x201): undefined reference totensorflow::Status::empty_string()' bazel-out/host/bin/tensorflow/core/libframework_internal.lo(op_def_util.o): In functiontensorflow::ValidateAttrValue(tensorflow::AttrValue const&, tensorflow::OpDef_AttrDef const&)':
op_def_util.cc:(.text.ZN10tensorflow17ValidateAttrValueERKNS_9AttrValueERKNS_13OpDef_AttrDefE+0x472): undefined reference togoogle::protobuf::internal::empty_string_' bazel-out/host/bin/tensorflow/core/libframework_internal.lo(op_def_util.o): In functiontensorflow::ValidateArg(tensorflow::OpDef_ArgDef const&, tensorflow::OpDef const&, bool, std::set<std::string, std::lessstd::string, std::allocatorstd::string >)':
op_def_util.cc:(.text._ZN10tensorflowL11ValidateArgERKNS_12OpDef_ArgDefERKNS_5OpDefEbPSt3setISsSt4lessISsESaISsEE+0x15e): undefined reference togoogle::protobuf::Message::ShortDebugString() const' op_def_util.cc:(.text._ZN10tensorflowL11ValidateArgERKNS_12OpDef_ArgDefERKNS_5OpDefEbPSt3setISsSt4lessISsESaISsEE+0x1c9): undefined reference togoogle::protobuf::Message::ShortDebugString() const'
op_def_util.cc:(.text._ZN10tensorflowL11ValidateArgERKNS_12OpDef_ArgDefERKNS_5OpDefEbPSt3setISsSt4lessISsESaISsEE+0x247): undefined reference togoogle::protobuf::Message::ShortDebugString() const' op_def_util.cc:(.text._ZN10tensorflowL11ValidateArgERKNS_12OpDef_ArgDefERKNS_5OpDefEbPSt3setISsSt4lessISsESaISsEE+0x285): undefined reference togoogle::protobuf::Message::ShortDebugString() const'
op_def_util.cc:(.text.ZN10tensorflowL11ValidateArgERKNS_12OpDef_ArgDefERKNS_5OpDefEbPSt3setISsSt4lessISsESaISsEE+0x393): undefined reference togoogle::protobuf::Message::ShortDebugString() const' bazel-out/host/bin/tensorflow/core/libframework_internal.lo(op_def_util.o):op_def_util.cc:(.text._ZN10tensorflowL11ValidateArgERKNS_12OpDef_ArgDefERKNS_5OpDefEbPSt3setISsSt4lessISsESaISsEE+0x539): more undefined references togoogle::protobuf::Message::ShortDebugString() const' follow
bazel-out/host/bin/tensorflow/core/libframework_internal.lo(tensor.o): In functiontensorflow::(anonymous namespace)::BufferBase::FillAllocationDescription(tensorflow::AllocationDescription*) const': tensor.cc:(.text._ZNK10tensorflow12_GLOBAL__N_110BufferBase25FillAllocationDescriptionEPNS_21AllocationDescriptionE+0x40): undefined reference togoogle::protobuf::internal::empty_string'
bazel-out/host/bin/tensorflow/core/libframework_internal.lo(log_memory.o): In function tensorflow::LogMemory::OutputToLog(google::protobuf::Message const&)': log_memory.cc:(.text._ZN10tensorflow9LogMemory11OutputToLogERKN6google8protobuf7MessageE+0x52): undefined reference togoogle::protobuf::TextFormat::Printer::PrintToString(google::protobuf::Message const&, std::string) const'
bazel-out/host/bin/tensorflow/core/libframework_internal.lo(log_memory.o): In function tensorflow::LogMemory::RecordTensorAllocation(std::string const&, long long, tensorflow::Tensor const&)': log_memory.cc:(.text._ZN10tensorflow9LogMemory22RecordTensorAllocationERKSsxRKNS_6TensorE+0x27): undefined reference togoogle::protobuf::internal::empty_string'
bazel-out/host/bin/tensorflow/core/libframework_internal.lo(log_memory.o): In function tensorflow::LogMemory::RecordTensorDeallocation(long long, std::string const&)': log_memory.cc:(.text._ZN10tensorflow9LogMemory24RecordTensorDeallocationExRKSs+0x22): undefined reference togoogle::protobuf::internal::empty_string'
bazel-out/host/bin/tensorflow/core/libframework_internal.lo(op_kernel.o): In function tensorflow::ValidateKernelRegistrations(tensorflow::OpRegistryInterface const&)': op_kernel.cc:(.text._ZN10tensorflow27ValidateKernelRegistrationsERKNS_19OpRegistryInterfaceE+0x2b7): undefined reference togoogle::protobuf::Message::ShortDebugString() const'
collect2: error: ld returned 1 exit status
Target //tensorflow/cc:tutorials_example_trainer failed to build