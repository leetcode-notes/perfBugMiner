How to Fine-tuning a Pretrained Network?

Any one can give an example code of how to fine tuning a pretrained imagenet network with new data and different classes num. Just like this:
https://github.com/BVLC/caffe/blob/master/examples/03-fine-tuning.ipynb