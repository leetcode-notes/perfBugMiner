Changed context creation to use primary context

Reopening of PR #5196, which was issued to the wrong branch.