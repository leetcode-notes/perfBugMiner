Tensorflow Dataset.from_generator blocks input?

System information

Have I written custom code (as opposed to using a stock example script provided in TensorFlow): yes
OS Platform and Distribution (e.g., Linux Ubuntu 16.04): both win7 and CentOS 7.2.1511
TensorFlow installed from (source or binary): pip3
TensorFlow version (use command below): 'v1.4.0-rc1-11-g130a514 1.4.0' and '1.5.0-dev20180102'
Python version: 3.5.3
Bazel version (if compiling from source): NA
GCC/Compiler version (if compiling from source): NA
CUDA/cuDNN version: NA
GPU model and memory: NA
Exact command to reproduce: NA

Describe the problem
I submitted a problem on stackoverflow but nobody solved it. So I open it here. Does anybody can help to solve it?
Here is the problem:
https://stackoverflow.com/questions/47917288/tensorflow-dataset-from-generator-blocks-input
I installed tensorflow 1.4.0 via pip, without gpu support. My python version is 3.5.3