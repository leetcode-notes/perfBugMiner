Merge master branch into 1.0

All(well, most) test failures are now addressed. Time to sync the release branch.