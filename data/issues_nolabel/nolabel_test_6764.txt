MNIST batch test

The test code uses test data as whole. It requires a lot of memory.
I modified it to test every 50 samples and average the results.