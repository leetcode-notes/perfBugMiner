Unable to load retrained MobileNet

System information

Have I written custom code (as opposed to using a stock example script provided in TensorFlow): No
OS Platform and Distribution (e.g., Linux Ubuntu 16.04): Arch Linux on x86_64
TensorFlow installed from (source or binary): binary/pip
TensorFlow version (use command below): 1.5.0
Python version: 3.6.4
Exact command to reproduce:
python3 label_image/label_image.py \ --graph=output_graph.pb --labels=output_labels.txt \ --input_layer=Mul \ --output_layer=final_result \ --input_mean=128 --input_std=128 \ --image=images.jpg

Describe the problem
Attempting to use a retrained MobileNet model (retrained with retrain.py) results in
Traceback (most recent call last): File "label_image/label_image.py", line 144, in <module> classify() File "label_image/label_image.py", line 116, in classify graph = load_graph(model_file) File "label_image/label_image.py", line 34, in load_graph graph_def.ParseFromString(f.read()) google.protobuf.message.DecodeError: Error parsing message
when trying to use the label_image example, and
Traceback (most recent call last): File "label_image/label_image.py", line 144, in <module> classify() File "label_image/label_image.py", line 116, in classify graph = load_graph(model_file) File "label_image/label_image.py", line 34, in load_graph graph_def.ParseFromString(f.read()) File "/usr/lib/python3.6/site-packages/google/protobuf/message.py", line 185, in ParseFromString self.MergeFromString(serialized) File "/usr/lib/python3.6/site-packages/google/protobuf/internal/python_message.py", line 1083, in MergeFromString if self._InternalParse(serialized, 0, length) != length: File "/usr/lib/python3.6/site-packages/google/protobuf/internal/python_message.py", line 1120, in InternalParse pos = field_decoder(buffer, new_pos, end, self, field_dict) File "/usr/lib/python3.6/site-packages/google/protobuf/internal/decoder.py", line 633, in DecodeField if value._InternalParse(buffer, pos, new_pos) != new_pos: File "/usr/lib/python3.6/site-packages/google/protobuf/internal/python_message.py", line 1120, in InternalParse pos = field_decoder(buffer, new_pos, end, self, field_dict) File "/usr/lib/python3.6/site-packages/google/protobuf/internal/decoder.py", line 612, in DecodeRepeatedField if value.add()._InternalParse(buffer, pos, new_pos) != new_pos: File "/usr/lib/python3.6/site-packages/google/protobuf/internal/python_message.py", line 1120, in InternalParse pos = field_decoder(buffer, new_pos, end, self, field_dict) File "/usr/lib/python3.6/site-packages/google/protobuf/internal/decoder.py", line 743, in DecodeMap if submsg._InternalParse(buffer, pos, new_pos) != new_pos: File "/usr/lib/python3.6/site-packages/google/protobuf/internal/python_message.py", line 1109, in InternalParse new_pos = local_SkipField(buffer, new_pos, end, tag_bytes) File "/usr/lib/python3.6/site-packages/google/protobuf/internal/decoder.py", line 850, in SkipField return WIRETYPE_TO_SKIPPER[wire_type](buffer, pos, end) File "/usr/lib/python3.6/site-packages/google/protobuf/internal/decoder.py", line 799, in _SkipGroup new_pos = SkipField(buffer, pos, end, tag_bytes) File "/usr/lib/python3.6/site-packages/google/protobuf/internal/decoder.py", line 850, in SkipField return WIRETYPE_TO_SKIPPER[wire_type](buffer, pos, end) File "/usr/lib/python3.6/site-packages/google/protobuf/internal/decoder.py", line 814, in _SkipFixed32 raise _DecodeError('Truncated message.') google.protobuf.message.DecodeError: Truncated message.
when using PROTOCOL_BUFFERS_PYTHON_IMPLEMENTATION=python as mentioned in https://github.com/tensorflow/tensorflow/issues/582
I also get the same issues when trying to quantize the model.