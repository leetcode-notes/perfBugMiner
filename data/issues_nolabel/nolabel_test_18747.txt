[Cherrypick] Fix critical loss computation bug in Model training/eval with eager execution

Fixes #18642.
PiperOrigin-RevId: 193423288