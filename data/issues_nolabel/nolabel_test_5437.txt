AlreadyExistsError: Resource _tensor_arrays

I was trying to use a tf.while loop inside another tf.while loop . I cross checked many times , but I am getting this error . If somehow managed to get over this error , I am getting another error called nothing to read from index 0 of tensor array , as nothing has been written to it . If you guys want , I can post the full code . This code is based on the modification of code by @alrojo , from his wondeful tutorial .