[r1.8] Fix tf.compat.as_str returns bytes issue in Python 3

NOTE: This PR is against r1.8. Please feel free to close the PR if this is not appropriate.
This PR is to carry the fix of #18601 Fix tf.compat.as_str returns bytes issue in Python 3 to r1.8.
@martinwicke @annarev I feel it might make sense to apply this patch to 1.8 release if time permits.
Not sure about the overall release work flow though, so please feel free to close the PR if not appropriate.