TF-549 Adds unsorted segment max Op

Adds unsorted segment max. Fixes #549, Continuation of #4051.
@drpngx, rebased to current master and squashed the commits.
Hope we'll manage this time!