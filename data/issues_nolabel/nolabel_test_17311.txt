Shape inference with dynamic shapes

I was wondering whether it is possible to use a variable as a placeholder for underspecified/dynamic shapes. Let's say the batch_size is dynamic (e.g. as a result from using tf.Dataset.batch which may produce an incomplete batch at the end of the dataset), so we have an input of images of shape [?, h, w, c]. Couldn't the shape inference procedure create an internal variable for ? such that it would be able to infer the other variables at least, e.g. for functions like tf.zeros_like. Sorry, if this is off-topic.