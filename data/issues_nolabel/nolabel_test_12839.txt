BLD: precheck patch command before invoked

The PR is opened to fix #12821.
How to test

 I have no idea how to test.