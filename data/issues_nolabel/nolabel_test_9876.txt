Fix issue #9858.

Added some byte swapping code to solve endianness problem.