dynamic_rnn broken on master?

The following code works on TF 0.10 but fails on master:
import tensorflow as tf
i = tf.placeholder(tf.float32, shape=[1, None, 20])
cell = tf.nn.rnn_cell.GRUCell(30)
o = tf.nn.dynamic_rnn(cell, i, dtype=tf.float32)

The autogenerated documentation for master here does not mention anything which could explain this.
The failure is the following exception:
ValueError: Time steps is not the same for all the elements in the input in a batch.

raised on line 915 of rnn.py
I could not find any issues in the issue tracker that address this.